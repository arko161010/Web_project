{% extends 'admin.html' %}

{% block content %}
<style>
  .navbar {
    z-index: 1001;
  }
  h2 {
    margin-top: 55px;
    height: 45px;
    margin-left: 5px;
  }
</style>

<!-- Top Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">Admin</a>
    <span class="navbar-brand fw-bold">
      {% if user %} ðŸ‘¤ Welcome, {{ user[1] }} {% endif %}
    </span>
  </div>
</nav>

<!-- Main Content Area -->
<div class="content">

  <!-- Flash Messages -->
  <div style="position: fixed; bottom: 120px; left: 50%; transform: translateX(-50%); z-index: 1050; width: auto;">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show text-center" role="alert">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </div>

  <h2>Dashboard</h2>

  {% if user %}
    <!-- User Info Card -->
    <div class="card shadow-sm">
      <div class="card-body">
        <h4 class="card-title text-center">User Information</h4>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><strong>Name:</strong> {{ user[1] }}</li>
          <li class="list-group-item"><strong>Admin ID:</strong> {{ user[2] }}</li>
        </ul>
      </div>
    </div>
  {% else %}
    <div class="alert alert-warning text-center mt-4">
      <p>You are not logged in. Please <a href="/log" class="alert-link">Login</a> to access the dashboard.</p>
    </div>
  {% endif %}

</div>
{% endblock %}
